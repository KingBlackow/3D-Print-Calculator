
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Print Kostenrechner</title>
  <link rel="manifest" href="manifest.json">
  <style>
    body { background: #121212; color: #f0f0f0; font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    h1 { color: #FFA500; text-align: center; }
    label { display: block; margin-top: 15px; color: #00E5E0; }
    input, button, select { width: 100%; margin-top: 5px; padding: 10px; border-radius: 5px; border: none; }
    button { background: #00E5E0; color: #121212; margin-top: 20px; }
    .result { background: #1e1e1e; padding: 15px; margin-top: 20px; border-radius: 10px; }
  </style>
</head>
<body>
  <h1>3D-Druck Kostenrechner</h1>
  <label>Materialpreis (â‚¬/kg): <input type="number" id="materialPreis" value="25" step="0.01"></label>
  <label>Materialverbrauch (g): <input type="number" id="materialVerbrauch" value="100"></label>
  <label>Druckzeit (h): <input type="number" id="druckzeit" value="5" step="0.1"></label>
  <label>Strompreis (â‚¬/kWh): <input type="number" id="strompreis" value="0.3" step="0.01"></label>
  <label>Stromverbrauch Drucker (kWh/h): <input type="number" id="stromverbrauch" value="0.1" step="0.01"></label>
  <label>Maschinen-Stundensatz (â‚¬/h): <input type="number" id="maschinensatz" value="2" step="0.1"></label>
  <button onclick="berechne()">Berechnen</button>
  <div class="result" id="resultBox" style="display:none;">
    <p><strong>Gesamtkosten:</strong> <span id="gesamtKosten">0</span> â‚¬</p>
    <button onclick="downloadPDF()">ðŸ“„ Als PDF speichern</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    function berechne() {
      const preis = parseFloat(document.getElementById('materialPreis').value);
      const verbrauch = parseFloat(document.getElementById('materialVerbrauch').value);
      const druckzeit = parseFloat(document.getElementById('druckzeit').value);
      const strompreis = parseFloat(document.getElementById('strompreis').value);
      const stromverbrauch = parseFloat(document.getElementById('stromverbrauch').value);
      const maschinensatz = parseFloat(document.getElementById('maschinensatz').value);

      const matKosten = (verbrauch / 1000) * preis;
      const stromKosten = druckzeit * stromverbrauch * strompreis;
      const maschinenKosten = druckzeit * maschinensatz;
      const gesamt = matKosten + stromKosten + maschinenKosten;

      document.getElementById('gesamtKosten').textContent = gesamt.toFixed(2);
      document.getElementById('resultBox').style.display = 'block';
    }

    async function downloadPDF() {
      const {{ jsPDF }} = window.jspdf;
      const doc = new jsPDF();
      doc.setFontSize(18);
      doc.text("3D-Druck KostenÃ¼bersicht", 20, 20);
      doc.setFontSize(12);
      doc.text("Gesamtkosten: " + document.getElementById('gesamtKosten').textContent + " â‚¬", 20, 40);
      doc.save("3d_kosten.pdf");
    }
  </script>
</body>
</html>
